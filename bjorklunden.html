<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript">
		
	</script>
	<style>
  body {
   text-align: center;
   background-color: rgb(35, 35, 35);
 }

 img {
   width: 100%;
 }

 .slidecontainer {
  width: 100%; /* Width of the outside container */
}

/* The slider itself */
.slider {
  -webkit-appearance: none;  /* Override default CSS styles */
  appearance: none;
  width: 100%; /* Full-width */
  height: 25px; /* Specified height */
  background: #d3d3d3; /* Grey background */
  outline: none; /* Remove outline */
  opacity: 0.7; /* Set transparency (for mouse-over effects on hover) */
  -webkit-transition: .2s; /* 0.2 seconds transition on hover */
  transition: opacity .2s;
  margin: 0;
}

/* Mouse-over effects */
.slider:hover {
  opacity: 1; /* Fully shown on mouse-over */
}

/* The slider handle (use -webkit- (Chrome, Opera, Safari, Edge) and -moz- (Firefox) to override default look) */ 
.slider::-webkit-slider-thumb {
  -webkit-appearance: none; /* Override default look */
  appearance: none;
  width: 25px; /* Set a specific slider handle width */
  height: 25px; /* Slider handle height */
  background: #4CAF50; /* Green background */
  cursor: pointer; /* Cursor on hover */
}

.slider::-moz-range-thumb {
  width: 25px; /* Set a specific slider handle width */
  height: 25px; /* Slider handle height */
  background: #4CAF50; /* Green background */
  cursor: pointer; /* Cursor on hover */
}

.content {
 display: inline-block;
}

#gallery {
  position: relative;
}

#gallery > img:nth-child(n+2) {
  position: absolute;
  top: 0;
  left: 0;
}
#gallery > img.fading {
  -webkit-transition: opacity 0.5s ease-in-out;
  -moz-transition: opacity 0.5s ease-in-out;
  -o-transition: opacity 0.5s ease-in-out;
  transition: opacity 0.5s ease-in-out;
}

</style>
</head>
<body>
	<div class=content>
		<div id=gallery></div>
		<div class="slidecontainer">
      <input type="range" min="1" max="51" value="0" class="slider" id="slider">
    </div>
  </div>
</body>
<script type="text/javascript">
	var slider = document.getElementById("slider");
	var output = document.getElementById("gallery");

	var imageNames = [
  "bjorklunden-29129-1.jpg",
  "bjorklunden-29129-2.jpg",
  "bjorklunden-29129-3.jpg",
  "bjorklunden-29129-4.jpg",
  "bjorklunden-29129-5.jpg",
  "bjorklunden-29129-6.jpg",
  "bjorklunden-29129-7.jpg",
  "bjorklunden-29129-8.jpg",
  "bjorklunden-29129-9.jpg",
  "bjorklunden-29129-10.jpg",
  "bjorklunden-29129-11.jpg",
  "bjorklunden-29129-12.jpg",
  "bjorklunden-29129-13.jpg",
  "bjorklunden-29129-14.jpg",
  "bjorklunden-29129-15.jpg",
  "bjorklunden-29129-16.jpg",
  "bjorklunden-29129-17.jpg",
  "bjorklunden-29129-18.jpg",
  "bjorklunden-29129-19.jpg",
  "bjorklunden-29129-20.jpg",
  "bjorklunden-29129-21.jpg",
  "bjorklunden-29129-22.jpg",
  "bjorklunden-29129-23.jpg",
  "bjorklunden-29129-24.jpg",
  "bjorklunden-29129-25.jpg",
  "bjorklunden-29129-26.jpg",
  "bjorklunden-29129-27.jpg",
  "bjorklunden-29129-28.jpg",
  "bjorklunden-29129-29.jpg",
  "bjorklunden-29129-30.jpg",
  "bjorklunden-29129-31.jpg",
  "bjorklunden-29129-32.jpg",
  "bjorklunden-29129-33.jpg",
  "bjorklunden-29129-34.jpg",
  "bjorklunden-29129-35.jpg",
  "bjorklunden-29129-36.jpg",
  "bjorklunden-29129-37.jpg",
  "bjorklunden-29129-38.jpg",
  "bjorklunden-29129-39.jpg",
  "bjorklunden-29129-40.jpg",
  "bjorklunden-29129-41.jpg",
  "bjorklunden-29129-42.jpg",
  "bjorklunden-29129-43.jpg",
  "bjorklunden-29129-44.jpg",
  "bjorklunden-29129-45.jpg",
  "bjorklunden-29129-46.jpg",
  "bjorklunden-29129-47.jpg",
  "bjorklunden-29129-48.jpg",
  "bjorklunden-29129-49.jpg",
  "bjorklunden-29129-50.jpg",
  "bjorklunden-29129-51.jpg",
  "bjorklunden-29129-52.jpg",
  ];

  var animation = false;
  var interval = 0;

  // Update the current slider value (each time you drag the slider handle)
  slider.oninput = function() {
    clearInterval(interval);
    let target = [this.value] - 1;

    images.forEach((image, i) => {
      image.classList.remove('fading');
      image.style.opacity = i === target ? 1 : 0;
    })
      // https://gist.github.com/paulirish/5d52fb081b3570c81e3a
      images[0].offsetLeft;
      images.forEach((image, i) => {
        image.classList.add('fading');
      });
      animation = false;
    };

    function toggleAnimation() {
      clearInterval(interval);
      if(!animation) {
        animation = true;
        let current = parseInt(slider.value);
        let next = current + 1;
        if(next > parseInt(slider.max)) {
          next = 1;
          images.forEach((image, i) => image.style.opacity = i === 0 ? 1 : 0);
        }
        slider.value = next;
        images[next - 1].style.opacity = 1;
        interval = setInterval(() => {
          let current = parseInt(slider.value);
          let next = current + 1;
          if(next > parseInt(slider.max)) {
            next = 1;
            images.forEach((image, i) => image.style.opacity = i === 0 ? 1 : 0);
            slider.value = next;
          } else {
            images[next - 1].style.opacity = 1;
            slider.value = next;
          }
        }, 250);
      }
      else {
        animation = false;
      }
    }

    let images = imageNames.map(name => {
      // console.log(name, output.children)
      let image = new Image();
      image.src = name;
      image.style.opacity = 0;
      image.classList.add('fading');
      output.appendChild(image);
      return image;
    });

    images[0].style.opacity = 1;
    // Without this, Safari stutters in the beginning of the (first) animation
    images[0].offsetLeft;

    output.addEventListener('click', toggleAnimation);
  //toggleAnimation();
</script>
</html>
